# Assignment #B: 贪心、矩阵和动态规划

Updated 0118 GMT+8 Nov 21, 2023

2023 fall, Complied by ==苏王捷 工学院==



**说明：**

本周作业留点难题，期中考试结束了，需要学习计算概论了。这次不分必做选做题目了，如果耗时太⻓，直接找答案看。两个题解，经常更新。所以最好从这个链接下载最新的，https://github.com/GMyhf/2020fall-cs101 。

1）请把每个题目解题思路（可选），源码Python, 或者C++（已经在Codeforces/Openjudge上AC），截图（包含Accepted, 学号），填写到下面作业模版中（推荐使用 typora https://typoraio.cn ，或者用word）。AC 或者没有AC，都请标上每个题目大致花费时间。

2）提交时候先提交pdf文件，再把md或者doc文件上传到右侧“作业评论”。Canvas需要有同学清晰头像、提交文件有pdf、作业评论有md或者doc。

3）如果不能在截止前提交作业，请写明原因。



**编程环境**

==（请改为同学的操作系统、编程环境等）==

操作系统：Windows 11

Python编程环境：Spyder IDE 5.5.0



## 1. 题目

如果耗时太⻓，直接看解题思路，或者源码



### 02786:Pell数列

http://cs101.openjudge.cn/practice/02786/



思路：递推公式



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Sun Nov 19 11:22:36 2023

@author: Lenovo
"""

dp=[0]*1000001
dp[1],dp[2]=1,2
for i in range(3,1000001):
    dp[i]=(2*dp[i-1]+dp[i-2])%32767
for _ in range(int(input())):
    print(dp[int(input())])

```



代码运行截图 ==（至少包含有"Accepted"）==

![屏幕截图 2023-11-21 101647](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-11-21 101647.png)



### 04133:垃圾炸弹

matrices, http://cs101.openjudge.cn/practice/04133/



思路：对每个点进行计数可炸的最大数目，找到最大值和点数



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Tue Nov 21 10:09:20 2023

@author: Lenovo
"""

class Point:
    def __init__(self, x, y, m):
        self.x = x
        self.y = y
        self.m = m

maze=[[0]*1025 for _ in range(1025)]
d=int(input())
n=int(input())
p=[Point(0,0,0)for _ in range(n)]
for i in range(n):
    p[i].x,p[i].y,p[i].m=map(int,input().split())
np=ans=0
for i in range(n):
    for row in range(max(0,p[i].x-d),min(1025,p[i].x+d+1)):
        for col in range(max(0,p[i].y-d),min(1025,p[i].y+d+1)):
            maze[row][col]+=p[i].m
            if ans<maze[row][col]:
                ans=maze[row][col]
                np=1
            elif ans==maze[row][col]:
                np+=1
print(f"{np} {ans}")

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-11-21 101400](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-11-21 101400.png)



### 26971:分发糖果

greedy, http://cs101.openjudge.cn/routine/26971/



思路：从前往后扫实现从前往后符合，再从后往前扫实现两端都符合，最后累加



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Sat Oct 14 20:58:28 2023

@author: Lenovo
"""

n=int(input())
l=list(map(int,input().split()))
num,numlist=0,[1]*n
for i in range(1,n):
    if l[i]>l[i-1]:
        numlist[i]=numlist[i-1]+1
    elif l[i]<l[i-1]:
        numlist[i-1]=numlist[i]+1
for i in range(n-2,-1,-1):
    if l[i]>l[i+1]:
        numlist[i]=max(numlist[i+1]+1,numlist[i])
    elif l[i]<l[i+1]:
        numlist[i+1]=max(numlist[i]+1,numlist[i+1])
for i in range(n):
    num+=numlist[i]
print(num)

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-11-21 101801](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-11-21 101801.png)



### 26976:摆动序列

greedy, http://cs101.openjudge.cn/routine/26976/



思路：dp做法，对每个位置求出最大的摆动序列长度，然后找其中的最大值



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Sun Oct 15 09:02:32 2023

@author: Lenovo
"""

n=int(input())
s=[int(i) for i in input().split()]
r=[0]*n
d=[0]*n
for i in range(n):
    maxn=1
    for j in range(i):
        if r[j]==1 and s[i]!=s[j]:
            maxn=max(2,maxn)
            d[i]=s[i]-s[j]
        elif (s[i]-s[j])*d[j]<0 and r[j]+1>maxn:
            maxn=r[j]+1
            d[i]=s[i]-s[j]
    r[i]=maxn
print(max(r))

```



代码运行截图 ==（至少包含有"Accepted"）==

![屏幕截图 2023-11-21 102120](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-11-21 102120.png)



### 27104:世界杯只因

http://cs101.openjudge.cn/practice/27104/



思路：用最小堆实现对监视范围最左端从小到大的排序，然后依次取出，找到能接上前一段并且最右端最远的监视范围，ans+1，继续直到最右端=n



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Mon Nov 20 22:24:29 2023

@author: Lenovo
"""

import heapq
n=int(input())
l=[0]+list(map(int,input().split()))
queue=[]
for i in range(1,n+1):
    heapq.heappush(queue,[max(1,i-l[i]),min(i+l[i],n)])
right=ans=0
while right<n:
    tmpright=right
    camera=heapq.heappop(queue)
    while camera[0]<=right+1:
        if camera[1]>tmpright:
            tmpright=camera[1]
        if tmpright==n:
            break
        if queue:
            camera=heapq.heappop(queue)
        else:
            break
    heapq.heappush(queue,camera)
    if tmpright!=right:
        ans+=1
        right=tmpright
print(ans)

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-11-21 102251](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-11-21 102251.png)



### CF1000B: Light It Up

greedy, 1500, https://codeforces.com/problemset/problem/1000/B



思路：找到能使插入后改变最大的答案



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Tue Oct 24 15:58:18 2023

@author: Lenovo
"""

n,m=map(int,input().split())
l=[0]+[int(i) for i in input().split()]+[m]
s,ans=0,[0]*(n+2)
for i in range(1,n+2):
    if s==0:
        ans[i]=ans[i-1]+l[i]-l[i-1]
        s=1
    else:
        ans[i]=ans[i-1]
        s=0
num=ans[n+1]
for i in range(1,n+2):
    if l[i]-l[i-1]>1 and i&1==0:
        num=max(num,ans[i]+m-l[i]-(ans[n+1]-ans[i])+l[i]-l[i-1]-1)
print(num)

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-11-21 102613](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-11-21 102613.png)



## 2. 学习总结和收获

==如果作业题目简单，有否额外练习题目，比如：OJ“每日选做”中每天推出的2题目、CF、LeetCode、洛谷等网站题目。==

每日选做题终于又回归正常难度了         ：）




# Assignment #D: Dec 月考

Updated 1506 GMT+8 Dec 7, 2023

2023 fall, Complied by ==苏王捷 工学院==



**说明：**

1）Dec ⽉考： AC6 。题⽬都在“练习”⾥⾯，按照数字题号能找到，可以重新提交。作业中提交⾃⼰最满意版本的代码和截图。

2）请把每个题目解题思路（可选），源码Python, 或者C++（已经在Codeforces/Openjudge上AC），截图（包含Accepted, 学号），填写到下面作业模版中（推荐使用 typora https://typoraio.cn ，或者用word）。AC 或者没有AC，都请标上每个题目大致花费时间。

3）提交时候先提交pdf文件，再把md或者doc文件上传到右侧“作业评论”。Canvas需要有同学清晰头像、提交文件有pdf、作业评论有md或者doc。

4）如果不能在截止前提交作业，请写明原因。



**编程环境**

==（请改为同学的操作系统、编程环境等）==

操作系统：Windows 11 22H2

Python编程环境：Spyder IDE 5.4.5



## 1. 题目

如果耗时太⻓，直接看解题思路，或者源码



### 18176: 2050年成绩计算

http://cs101.openjudge.cn/practice/18176/



思路：打出T-prime的set表然后搜索，加和



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Thu Dec  7 15:07:58 2023

@author: Lenovo
"""

from math import sqrt
n=10000
ls,x,y=[True]*(n+1),2,int(sqrt(n))+1
while x<y:
    if ls[x]==True:
        for i in range(x*2,n+1,x):
            ls[i]=False
    x+=1
ls=set([i**2 for i in range(2,n+1) if ls[i]==True])

m,n=map(int,input().split())
for _ in range(m):
    scores=list(map(int,input().split()))
    score=0
    for i in scores:
        if i in ls:
            score+=i
    print("%.2f"%(score/len(scores)) if score else 0)

```



代码运行截图 ==（至少包含有"Accepted"）==

![屏幕截图 2023-12-07 165508](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-12-07 165508.png)



### 18224: 找魔数

http://cs101.openjudge.cn/practice/18224



思路：n*2方法搜索剪枝实现，没什么可说的



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Thu Dec  7 15:21:48 2023

@author: Lenovo
"""

import math
m=int(input())
l=list(map(int,input().split()))
for _ in range(m):
    num,flag=l[_],False
    i=1
    while not flag and i<=int(math.sqrt(num)):
        j=i
        while not flag and j<=int(math.sqrt(num-i**2)):
            if i**2+j**2==num:
                print(bin(num),oct(num),hex(num))
                flag=True
            j+=1
        i+=1

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-12-07 165514](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-12-07 165514.png)



### 19963: 买学区房

http://cs101.openjudge.cn/practice/19963



思路：排序，计算，找到各自中位数，然后依次搜索选出符合条件的房子



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Thu Dec  7 15:28:30 2023

@author: Lenovo
"""

n=int(input())
pairs=[i[1:-1] for i in input().split()]
distances=[sum(map(int,i.split(','))) for i in pairs]
prices=list(map(int,input().split()))
values=[distances[i]/prices[i] for i in range(n)]
pnew=sorted(prices)
vnew=sorted(values)
if n%2==0:
    pmid=(pnew[n//2]+pnew[n//2-1])/2
    vmid=(vnew[n//2]+vnew[n//2-1])/2
else:
    pmid=pnew[n//2]
    vmid=vnew[n//2]
ans=0
for i in range(n):
    if values[i]>vmid and prices[i]<pmid:
        ans+=1
print(ans)

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-12-07 165520](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-12-07 165520.png)



### 23806: 三数之和

http://cs101.openjudge.cn/practice/23806/



思路：一道M竟然是卡了最久的（也不排除是因为T都做过的原因），一开始用的是确定两个指针在二分查找，但是失败TLE，后来发现应该固定一个，用双指针搜索



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Thu Dec  7 15:39:10 2023

@author: Lenovo
"""

def divide(nums):
    ans=0
    if nums[0]>0:
        return ans
    for i in range(len(nums)-2):
        if nums[i]>0:
            break
        if i>=1 and nums[i]==nums[i-1]:
            continue
        l,r=i+1,len(nums)-1
        while l<r:
            summ=nums[i]+nums[l]+nums[r]
            if summ==0:
                ans+=1
                l+=1
                r-=1
                while l<r and nums[l]==nums[l-1]:
                    l+=1
                while l<r and nums[r]==nums[r+1]:
                    r-=1
            elif summ<0:
                l+=1
                while l<r and nums[l-1]==nums[l]:
                    l+=1
            else:
                r-=1
                while l<r and nums[r+1]==nums[r]:
                    r-=1
    return ans

line=list(map(int,input().split()))
line.sort()
ans=divide(line)
print(ans)

```



代码运行截图 ==（至少包含有"Accepted"）==

![屏幕截图 2023-12-07 165530](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-12-07 165530.png)



### 25561: 2022决战双十一

http://cs101.openjudge.cn/practice/25561/

查达闻推荐：乌鸦坐飞机和装箱子那道题很像，其实难度不比装箱子高 但是考虑的情况确实不少。



思路：情况讨论复杂，难想



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Sat Nov 25 23:51:27 2023

@author: Lenovo
"""

def plans(n,price,count,all_plans,plan):
    if count==n+1:
        all_plans.append(plan[:])
        return
    for i in price[count].keys():
        plan.append(i)
        plans(n,price,count+1,all_plans,plan)
        plan.pop()
    return

def buy(n,m,price,coupon):
    all_plans=[]
    plans(n,price,1,all_plans,[])
    final_price=[]
    for plan in all_plans:
        totals_rsp=[]
        prices=[price[i][plan[i-1]] for i in range(1,n+1)]
        total=sum(prices)
        total-=total//300*50
        for i in range(1,m+1):
            prices_rsp=[price[j+1][plan[j]]for j in range(n) if plan[j] == i]
            totals_rsp.append(sum(prices_rsp))
        store=0
        for total_rsp in totals_rsp:
            store+=1
            discount=0
            for j in coupon[store]:
                if total_rsp>=j[0]:
                    discount=max(j[1],discount)
            total-=discount
        final_price.append(total)
    return min(final_price)

n,m=map(int,input().split())
price,coupon={},{}
for i in range(n):
    price_i={}
    price_raw=list(input().split())
    for j in price_raw:
        price_i[int(list(j.split(':'))[0])]=int(list(j.split(':'))[1])
    price[i+1]=price_i
for i in range(m):
    coupon_i=[]
    coupon_raw=list(input().split())
    for j in range(len(coupon_raw)):
        coupon_i.append(tuple(map(int,coupon_raw[j].split('-'))))
    coupon[i+1]=coupon_i
print(buy(n,m,price,coupon))

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-12-07 165541](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-12-07 165541.png)



### 08210: 河中跳房子

http://cs101.openjudge.cn/practice/08210/



思路：二分查找最大长度，对每个长度判断是否去掉了少于m个石头



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Thu Dec  7 15:07:58 2023

@author: Lenovo
"""

def check(x):
    t,num=0,0
    for i in range(1,n+1):
        if a[i]-t<x:
            num+=1
        else:
            t=a[i]
    if l-t<x:
        num+=1
    return num<=m

l,n,m=map(int,input().split())
a=[0]*(n+1)
for i in range(1,n+1):
    a[i]=int(input())
le,ri=0,l
while le+1<ri:
    mid=(le+ri)//2
    if check(mid):
        le=mid
    else:
        ri=mid
print(le)

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-12-07 165548](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-12-07 165548.png)



### 01922: Ride to School

http://cs101.openjudge.cn/practice/01922/



思路：Charley根本不关键，其实就是找在0时刻及以后出发并且最先到达的人所用的时间



##### 代码

```python
# # -*- coding: utf-8 -*-
"""
Created on Thu Dec  7 16:25:57 2023

@author: Lenovo
"""

import math
while True:
    n=int(input())
    if n==0:
        break
    l=[]
    for i in range(n):
        v,t=map(int,input().split())
        if t<0:
            continue
        l.append(math.ceil(4.5/v*3600+t))
    l.sort()
    print(l[0])

```



代码运行截图 ==（AC代码截图，至少包含有"Accepted"）==

![屏幕截图 2023-12-07 165554](C:\Users\Lenovo\Pictures\Screenshots\屏幕截图 2023-12-07 165554.png)



## 2. 学习总结和收获

==如果作业题目简单，有否额外练习题目，比如：OJ“每日选做”中每天推出的2题目、CF、LeetCode、洛谷等网站题目。==

感觉这次考试比上学期的期末难是怎么回事？？？

二分或者双指针还是不熟练，对边界<=还是<,是+1还是不加，有点撞大运的感觉了            ：)



